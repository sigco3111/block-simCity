
# 블록 심시티 빌더 (Block SimCity Builder)

실행 주소 : https://dev-canvas-pi.vercel.app/

##  목차

1.  [프로젝트 소개](#1-프로젝트-소개)
2.  [주요 기능](#2-주요-기능)
3.  [기술 스택](#3-기술-스택)
4.  [실행 방법](#4-실행-방법)
5.  [게임 플레이](#5-게임-플레이)
    *   [기본 조작법](#기본-조작법)
    *   [게임 목표](#게임-목표)
    *   [도시 통계 이해하기](#도시-통계-이해하기)
    *   [AI 위임 모드](#ai-위임-모드)
6.  [주요 게임 메카닉](#6-주요-게임-메카닉)
    *   [건물 유형](#건물-유형)
    *   [자원 관리](#자원-관리)
    *   [도시 시뮬레이션](#도시-시뮬레이션)
    *   [특수 시스템](#특수-시스템)
7.  [파일 구조](#7-파일-구조)
8.  [저장 및 불러오기](#8-저장-및-불러오기)

## 1. 프로젝트 소개

**블록 심시티 빌더**는 심시티 스타일의 3D 도시 건설 시뮬레이션 게임입니다. 사용자는 그리드 기반의 맵 위에 다양한 유형의 블록 스타일 건물을 배치하여 자신만의 도시를 건설하고 관리할 수 있습니다. 이 게임은 자금, 전력, 물과 같은 자원 관리 요소를 포함하며, 인구, 행복도, 교육 수준, 오염도 등 다양한 도시 통계를 추적하여 깊이 있는 시뮬레이션 경험을 제공합니다. React, Three.js, Tailwind CSS를 사용하여 제작되었으며, 실험적으로 규칙 기반(rule-based) AI 도시 계획 기능을 제공합니다.

## 2. 주요 기능

*   **3D 도시 건설**: 다양한 건물(주거, 상업, 산업, 공공시설 등)을 3D 환경에 배치합니다.
*   **자원 관리**: 한정된 자금으로 도시를 운영하고, 전력 및 수도 공급을 관리합니다.
*   **도시 통계 시뮬레이션**: 인구 증가, 시민 행복도, 고용률, 교육 수준, 건강, 안전, 오염도, 도시 매력도, 관광객 수 등을 실시간으로 시뮬레이션합니다.
*   **건물 업그레이드**: 특정 건물을 여러 레벨로 업그레이드하여 성능을 향상시킵니다.
*   **재난 관리**: 도시에 무작위로 발생하는 화재를 진압하고 확산을 방지합니다.
*   **AI 도시 계획 (실험적)**: 내장된 규칙 기반 시스템을 사용하여 AI가 도시 개발 계획을 제안하고 실행하는 위임 모드를 제공합니다.
*   **동적 UI**: 도시 상황에 따라 실시간으로 업데이트되는 통계 디스플레이와 건물 정보 패널을 제공합니다.
*   **게임 저장/불러오기**: 현재 게임 진행 상황을 브라우저의 LocalStorage에 저장하고 불러올 수 있습니다.
*   **반응형 인터페이스**: Tailwind CSS를 사용하여 다양한 화면 크기에 대응합니다.

## 3. 기술 스택

*   **프론트엔드**: React, TypeScript
*   **3D 렌더링**: Three.js
*   **스타일링**: Tailwind CSS
*   **모듈 번들러/실행 환경**: ES Modules (브라우저에서 직접 실행)

## 4. 실행 방법

1.  프로젝트 파일을 로컬 시스템에 준비합니다.
2.  웹 브라우저에서 `index.html` 파일을 엽니다. (별도의 빌드 과정이나 로컬 서버 구동이 필요하지 않도록 설계되었습니다.)

## 5. 게임 플레이

### 기본 조작법

*   **카메라 이동**: 마우스 가운데 버튼을 누르고 드래그합니다.
*   **카메라 회전**: 3D 뷰에서 마우스 왼쪽 버튼을 누르고 드래그합니다.
*   **카메라 확대/축소**: 마우스 휠을 스크롤합니다.
*   **건물 건설**:
    1.  화면 하단의 툴바에서 건설할 건물 아이콘을 좌클릭하여 선택합니다.
    2.  맵 위의 빈 그리드 셀을 좌클릭하여 건물을 배치합니다. (자금 필요)
*   **건물 철거**:
    1.  화면 하단의 툴바에서 폭탄(💣) 아이콘을 선택한 후, 철거할 건물을 우클릭합니다.
    2.  또는, 특정 건물 유형을 선택하지 않은 상태에서 맵 위의 건물을 우클릭하여 철거합니다. (일부 비용 환급 가능)
*   **건물 정보 확인 및 업그레이드**:
    1.  맵 위의 건물을 좌클릭하면 해당 건물의 정보 패널이 나타납니다.
    2.  정보 패널에서 건물 통계, 현재 레벨을 확인할 수 있으며, 업그레이드가 가능한 경우 업그레이드 버튼이 활성화됩니다. (자금 필요)
*   **게임 일시정지/재개**: 화면 우측 상단의 일시정지/재생 버튼을 클릭합니다.
*   **AI 위임 모드 전환**: 화면 우측 상단의 AI 로고 버튼을 클릭합니다.
*   **도움말**: 화면 우측 상단의 물음표(?) 버튼을 클릭하여 조작법 도움말을 봅니다.

### 게임 목표

*   **지속 가능한 도시 개발**: 한정된 자금과 자원을 효율적으로 사용하여 도시를 성장시킵니다.
*   **시민 만족도 관리**: 시민들의 행복도를 높게 유지하여 인구 유출을 막고 도시 발전을 촉진합니다.
*   **균형 발전**: 주거, 상업, 산업 시설의 균형을 맞추고, 전력, 수도, 교육, 의료, 안전 등 다양한 공공 서비스를 적절히 공급합니다.
*   **재정 안정**: 세금과 관광 수입을 통해 재정을 안정적으로 유지하고 파산을 피합니다.
*   **환경 관리**: 산업 시설로 인한 오염을 관리하고 공원 등을 통해 쾌적한 환경을 조성합니다.

### 도시 통계 이해하기

화면 상단에는 주요 도시 통계가 표시됩니다.

*   **월**: 게임 내 시간의 흐름을 나타냅니다.
*   **자금**: 현재 보유한 자금입니다. 건물 건설, 업그레이드, 유지비 지출에 사용됩니다.
*   **인구**: 도시에 거주하는 시민의 수입니다. 주거 공간과 일자리에 영향을 받습니다.
*   **관광객**: 도시 매력도에 따라 방문하는 관광객 수입니다. 추가 수입원이 됩니다.
*   **매력도**: 도시의 관광 매력을 나타내는 지표입니다. 공원, 랜드마크, 교육 수준, 행복도 등에 영향을 받습니다.
*   **전력**: 도시의 총 전력 생산량 대비 총 전력 수요량입니다. 수요가 공급을 초과하면 문제가 발생합니다.
*   **물**: 도시의 총 물 공급량 대비 총 물 수요량입니다. 물 부족은 행복도에 큰 영향을 미칩니다.
*   **오염도**: 도시의 환경 오염 수준입니다. 산업 시설은 오염을 유발하고, 공원이나 폐기물 처리장은 오염을 줄일 수 있습니다. 행복도와 건강에 영향을 미칩니다.
*   **교육**: 도시의 교육 수준입니다. 학교, 대학교 건설로 향상되며, 시민들의 삶의 질과 도시 발전에 기여합니다.
*   **행복도**: 시민들의 전반적인 만족도입니다. 주거, 일자리, 세금, 공공 서비스, 환경 등 다양한 요인의 영향을 받습니다. 행복도가 낮으면 인구가 감소할 수 있습니다.

### AI 위임 모드

AI 위임 모드를 활성화하면, 내장된 규칙 기반 AI 플래너가 주기적으로 도시 계획을 분석하고, 자금 상황과 도시 필요에 따라 자동으로 건물을 건설하거나 업그레이드합니다.

*   AI는 자금, 전력/물 균형, 인구 대비 일자리, 행복도 등을 고려하여 전략적인 결정을 내리려고 시도합니다.
*   플레이어가 특정 지점에 발전소를 건설하면, AI는 해당 지역을 중심으로 개발을 집중할 수 있습니다.
*   AI는 도로망 연결, 단일 차선 도로 유지 등의 규칙을 따르도록 설계되었습니다.
*   이 기능은 실험 단계이므로, 때때로 예상치 못한 행동을 할 수 있으며, 플레이어의 적절한 개입이 필요할 수 있습니다.

## 6. 주요 게임 메카닉

### 건물 유형

다양한 건물 유형이 있으며, 각 건물은 고유한 특성과 효과를 가집니다.

*   **주거 (RESIDENTIAL)**: 인구를 수용합니다. 전력과 물을 소비합니다.
*   **상업 (COMMERCIAL)**: 일자리를 제공하고, 관광객 유치에 기여합니다. 전력과 물을 소비합니다.
*   **산업 (INDUSTRIAL)**: 많은 일자리를 제공하지만, 오염을 발생시키고 행복도를 낮출 수 있습니다. 전력과 물을 소비합니다.
*   **도로 (ROAD)**: 건물들을 연결하고 접근성을 제공합니다. 유지비가 발생합니다. 모든 건물은 도로에 인접해야 기능을 발휘합니다.
*   **공원 (PARK)**: 행복도를 높이고, 오염을 일부 정화하며, 도시 매력도를 높입니다.
*   **발전소 (POWER_PLANT)**: 도시에 전력을 공급합니다. 오염을 발생시킬 수 있습니다.
*   **급수탑 (WATER_TOWER)**: 도시에 물을 공급합니다.
*   **소방서 (FIRE_STATION)**: 화재 발생 시 진압하고, 화재 예방 효과를 제공합니다.
*   **병원 (HOSPITAL)**: 시민들의 건강 수준을 향상시킵니다.
*   **학교 (SCHOOL), 대학교 (UNIVERSITY)**: 도시의 교육 수준을 높입니다.
*   **폐기물 처리장 (WASTE_MANAGEMENT)**: 오염을 크게 줄여줍니다.
*   **랜드마크 (LANDMARK)**: 도시 매력도를 크게 향상시키고 행복도에 긍정적인 영향을 줍니다. (예: 조각상)

### 자원 관리

*   **자금**: 건물 건설, 업그레이드, 월별 유지비 지출에 필요합니다. 인구에 따른 세금과 관광 수입으로 얻을 수 있습니다.
*   **전력**: 대부분의 건물은 전력을 소비합니다. 발전소로 생산하며, 수요가 공급을 초과하면 도시 기능에 문제가 생기고 행복도가 감소합니다.
*   **물**: 대부분의 건물은 물을 소비합니다. 급수탑으로 공급하며, 물 부족은 심각한 행복도 감소를 유발합니다.

### 도시 시뮬레이션

*   **인구 증가/감소**: 주거 공간, 일자리, 행복도, 공공 서비스 수준(건강, 안전, 교육), 환경(오염) 등 다양한 요인에 따라 인구가 변동합니다.
*   **행복도**: 도시의 전반적인 상태를 반영하는 중요한 지표입니다. 세금, 실업률, 전력/물 공급, 공공 서비스, 오염, 화재 안전 등이 행복도에 영향을 미칩니다. 행복도가 낮으면 인구가 감소할 수 있습니다.
*   **유지비**: 모든 건물은 매월 일정량의 유지비를 소모합니다.
*   **세금**: 인구 규모에 따라 매월 세금이 징수됩니다.
*   **관광**: 도시 매력도와 상업 시설 수용력에 따라 관광객이 유치되며, 추가 수입을 발생시킵니다.

### 특수 시스템

*   **화재 시스템**: 건물은 무작위로 화재가 발생할 수 있으며, 특히 가연성 건물에서 발생 확률이 높습니다. 소방서는 화재를 진압하고, 화재는 주변 건물로 번질 수 있습니다. 화재로 인해 건물이 파괴될 수 있습니다.
*   **건강 시스템**: 병원은 시민들의 건강 수준에 기여합니다. 오염도가 높으면 건강 수준이 저하될 수 있습니다. 낮은 건강 수준은 행복도에 부정적인 영향을 미칩니다.
*   **안전 시스템**: 소방서의 존재와 화재 발생 빈도가 안전 수준에 영향을 미칩니다. 낮은 안전 수준은 행복도에 부정적인 영향을 미칩니다.
*   **교육 시스템**: 학교와 대학교는 교육 수준을 향상시킵니다. 교육 수준은 도시 발전과 매력도에 긍정적인 영향을 미칩니다.
*   **오염 시스템**: 산업 시설, 발전소 등은 오염을 발생시킵니다. 공원, 폐기물 처리장은 오염을 감소시킵니다. 높은 오염도는 행복도, 건강, 도시 매력도에 부정적인 영향을 미칩니다.
*   **매력도 및 관광 시스템**: 공원, 랜드마크 건설, 높은 행복도 및 교육 수준은 도시 매력도를 높입니다. 매력도가 높을수록 더 많은 관광객을 유치하고 추가 수입을 얻을 수 있습니다. 오염과 파괴된 건물은 매력도를 감소시킵니다.

## 7. 파일 구조

주요 파일 및 디렉터리 구조는 다음과 같습니다.

*   `index.html`: 애플리케이션의 진입점 HTML 파일입니다. Tailwind CSS, Three.js, React 등의 라이브러리를 로드하고, `index.tsx`를 모듈로 임포트합니다.
*   `index.tsx`: React 애플리케이션을 초기화하고 `App` 컴포넌트를 렌더링합니다.
*   `App.tsx`: 메인 애플리케이션 컴포넌트입니다. 게임 로직, 상태 관리, UI 렌더링, AI 위임 모드 로직 등 핵심 기능을 담당합니다.
*   `constants.ts`: 게임의 기본 설정 값, 건물 속성, AI 관련 상수 등 주요 상수들을 정의합니다.
*   `types.ts`: 게임에서 사용되는 주요 데이터 타입(Building, CityStats, BuildingType 등)을 TypeScript 인터페이스 및 열거형으로 정의합니다.
*   `metadata.json`: 애플리케이션 메타데이터 (이름, 설명, 권한 요청 등)를 포함합니다.
*   `components/`: React 컴포넌트들을 포함하는 디렉터리입니다.
    *   `ThreeScene.tsx`: Three.js를 사용하여 3D 렌더링 및 상호작용을 처리합니다.
    *   `Toolbar.tsx`: 건물 선택 및 철거 기능을 제공하는 하단 툴바 UI입니다.
    *   `StatsDisplay.tsx`: 화면 상단에 도시 통계를 표시하는 UI입니다.
    *   `BuildingInfoPanel.tsx`: 선택된 건물의 상세 정보 및 업그레이드 옵션을 표시하는 패널 UI입니다.
    *   `HelpButton.tsx`: 게임 조작법 도움말을 제공하는 버튼 및 모달 UI입니다.

## 8. 저장 및 불러오기

게임 진행 상황은 브라우저의 LocalStorage에 자동으로 저장될 수 있습니다.

*   **저장**: 화면 우측 상단의 "저장" 버튼을 클릭하여 현재 게임 상태(건물, 도시 통계, 카메라 위치 등)를 저장합니다.
*   **불러오기**:
    *   화면 우측 상단의 "불러오기" 버튼을 클릭하여 이전에 저장된 게임을 수동으로 불러옵니다.
    *   게임 시작 시, 이전에 저장된 게임이 있다면 자동으로 불러옵니다.

저장된 게임이 없는 경우, 새로운 게임이 시작됩니다.
